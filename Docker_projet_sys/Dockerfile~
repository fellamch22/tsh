FROM alpine:latest
RUN apk update
RUN apk add libc-dev
RUN apk add gcc
RUN apk add CC=gcc
CFLAGS=-Wall -g
 
ALL=shell
all: $(ALL)

shell : shell.c syntaxe.c sgf.c 
	$(CC) shell.c syntaxe.c sgf.c $(CFLAGS) -o shell

clean:
	rm -rf *.o
	rm -rf $(ALL) 
RUN mkdir /home/projet_sys
COPY Makefile /home/projet_sys/Makefile
COPY sgf.c /home/projet_sys/sgf.c
COPY sgf.h /home/projet_sys/sgf.h
COPY shell.c /home/projet_sys/shell.c
COPY syntaxe.c /home/projet_sys/syntaxe.c
COPY syntaxe.h /home/projet_sys/syntaxe.h
COPY tar.h /home/projet_sys/tar.h